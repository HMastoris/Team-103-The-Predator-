/*
 * File:   LCD_Setup.c
 * Author: mikef
 *
 * Created on April 24, 2022, 11:37 AM
 * 
 * Sets up LCD to display:
 *      D: 0.03 meters
 *      G:33.30,111.67
 */


#include <xc.h>
#include "mcc_generated_files/mcc.h"
#include "mcc_generated_files/examples/i2c1_master_example.h"
#include "LCD_Setup.h"

void I2C1_Write1Byte(uint8_t * data)
{
    while(!I2C1_Open(0x27)); // sit here until we get the bus..
    I2C1_SetBuffer(&data,1);
    I2C1_SetAddressNackCallback(NULL,NULL); //NACK polling?
    I2C1_MasterWrite();
    while(I2C1_BUSY == I2C1_Close()); // sit here until finished.
    __delay_ms(5);
}

void LCD_Setup(void){   
    I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x3C);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x3C);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x3C);
   I2C1_Write1Byte(0x38);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x2C);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x2C);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x88);
   I2C1_Write1Byte(0x8C);
   I2C1_Write1Byte(0x88);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x0C);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0xC8);
   I2C1_Write1Byte(0xCC);
   I2C1_Write1Byte(0xC8);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x0C);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x18);
   I2C1_Write1Byte(0x1C);
   I2C1_Write1Byte(0x18);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x0C);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x68);
   I2C1_Write1Byte(0x6C);
   I2C1_Write1Byte(0x68);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x0C);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x2C);
   I2C1_Write1Byte(0x28);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x4D);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x4D);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0xA9);
   I2C1_Write1Byte(0xAD);
   I2C1_Write1Byte(0xA9);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x0D);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x0D);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0xED);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x0D);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x0D);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x6D);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0xD9);
   I2C1_Write1Byte(0xDD);
   I2C1_Write1Byte(0xD9);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x6D);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x59);
   I2C1_Write1Byte(0x5D);
   I2C1_Write1Byte(0x59);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x7D);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x4D);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x6D);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x59);
   I2C1_Write1Byte(0x5D);
   I2C1_Write1Byte(0x59);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x7D);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x7D);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0xC8);
   I2C1_Write1Byte(0xCC);
   I2C1_Write1Byte(0xC8);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x0C);
   I2C1_Write1Byte(0x08);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x4D);
   I2C1_Write1Byte(0x49);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x7D);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0xA9);
   I2C1_Write1Byte(0xAD);
   I2C1_Write1Byte(0xA9);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0xED);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x0D);
   I2C1_Write1Byte(0x09);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0xC9);
   I2C1_Write1Byte(0xCD);
   I2C1_Write1Byte(0xC9);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x1D);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x1D);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x1D);
   I2C1_Write1Byte(0x19);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0x2D);
   I2C1_Write1Byte(0x29);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0xED);
   I2C1_Write1Byte(0xE9);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x6D);
   I2C1_Write1Byte(0x69);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x3D);
   I2C1_Write1Byte(0x39);
   I2C1_Write1Byte(0x79);
   I2C1_Write1Byte(0x7D);
   I2C1_Write1Byte(0x79);
    
    return;
}
